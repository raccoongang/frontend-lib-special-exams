{"version":3,"sources":["../../src/exam/ExamAPIError.jsx"],"names":["ExamAPIError","state","ExamStateContext","apiErrorMsg","proctoringSettings","contactUs","contact_us","platformName","platform_name","showError","setShowError","renderHeading","supportLink","Info"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;AAEe,SAASA,YAAT,GAAwB;AACrC,MAAMC,KAAK,GAAG,uBAAWC,gBAAX,CAAd;AACA,MAAQC,WAAR,GAA4CF,KAA5C,CAAQE,WAAR;AAAA,MAAqBC,kBAArB,GAA4CH,KAA5C,CAAqBG,kBAArB;AACA,MAAoBC,SAApB,GAA+DD,kBAA/D,CAAQE,UAAR;AAAA,MAA8CC,YAA9C,GAA+DH,kBAA/D,CAA+BI,aAA/B;;AACA,kBAAkC,qBAAS,KAAT,CAAlC;AAAA;AAAA,MAAOC,SAAP;AAAA,MAAkBC,YAAlB;;AAEA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,QAAIN,SAAS,IAAIE,YAAjB,EAA+B;AAC7B,0BACE,6BAAC,sBAAD;AACE,QAAA,EAAE,EAAC,qBADL;AAEE,QAAA,cAAc,EACZ,iDACI,oDADJ,GAEI,+DALR;AAOE,QAAA,MAAM,EAAE;AAAEK,UAAAA,WAAW,eAAE;AAAG,2BAAY,cAAf;AAA8B,YAAA,IAAI,EAAEP,SAApC;AAA+C,YAAA,MAAM,EAAC,QAAtD;AAA+D,YAAA,GAAG,EAAC;AAAnE,aAA0FE,YAA1F;AAAf;AAPV,QADF;AAWD;;AAED,wBACE,6BAAC,sBAAD;AACE,MAAA,EAAE,EAAC,qBADL;AAEE,MAAA,cAAc,EAAC;AAFjB,MADF;AAMD,GArBD;;AAuBA,sBACE,6BAAC,cAAD;AAAO,IAAA,OAAO,EAAC,QAAf;AAAwB,mBAAY;AAApC,kBACE,6BAAC,aAAD;AAAM,IAAA,GAAG,EAAEM,WAAX;AAAiB,IAAA,SAAS,EAAC;AAA3B,IADF,eAEE,6BAAC,cAAD,CAAO,OAAP;AAAe,mBAAY;AAA3B,KACGF,aAAa,EADhB,CAFF,eAKE,qDACE,6BAAC,sBAAD;AACE,IAAA,EAAE,EAAC,uBADL;AAEE,IAAA,cAAc,EAAC;AAFjB,IADF,oBAKE;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACE,6BAAC,cAAD,CAAO,IAAP;AAAY,IAAA,OAAO,EAAE;AAAA,aAAMD,YAAY,CAAC,CAACD,SAAF,CAAlB;AAAA,KAArB;AAAqD,mBAAY;AAAjE,KACGA,SAAS,gBACR,6BAAC,sBAAD;AACE,IAAA,EAAE,EAAC,wBADL;AAEE,IAAA,cAAc,EAAC;AAFjB,IADQ,gBAMR,6BAAC,sBAAD;AACE,IAAA,EAAE,EAAC,wBADL;AAEE,IAAA,cAAc,EAAC;AAFjB,IAPJ,CADF,CALF,CALF,EA0BGA,SAAS,iBAAI;AAAG,mBAAY;AAAf,KAAgCN,WAAhC,CA1BhB,CADF;AA8BD","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Alert, Icon } from '@edx/paragon';\nimport { Info } from '@edx/paragon/icons';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport ExamStateContext from '../context';\n\nexport default function ExamAPIError() {\n  const state = useContext(ExamStateContext);\n  const { apiErrorMsg, proctoringSettings } = state;\n  const { contact_us: contactUs, platform_name: platformName } = proctoringSettings;\n  const [showError, setShowError] = useState(false);\n\n  const renderHeading = () => {\n    if (contactUs && platformName) {\n      return (\n        <FormattedMessage\n          id=\"exam.apiError.text1\"\n          defaultMessage={\n            'A system error has occurred with your exam. '\n              + 'Please reach out to {supportLink} for assistance, '\n              + 'and return to the exam once you receive further instructions.'\n          }\n          values={{ supportLink: <a data-testid=\"support-link\" href={contactUs} target=\"_blank\" rel=\"noopener noreferrer\">{platformName} Support</a> }}\n        />\n      );\n    }\n\n    return (\n      <FormattedMessage\n        id=\"exam.apiError.text2\"\n        defaultMessage=\"A system error has occurred with your exam. Please reach out to support for assistance.\"\n      />\n    );\n  };\n\n  return (\n    <Alert variant=\"danger\" data-testid=\"exam-api-error-component\">\n      <Icon src={Info} className=\"alert-icon\" />\n      <Alert.Heading data-testid=\"heading\">\n        {renderHeading()}\n      </Alert.Heading>\n      <p>\n        <FormattedMessage\n          id=\"exam.apiError.details\"\n          defaultMessage=\"Details\"\n        />:\n        <span className=\"pl-2\">\n          <Alert.Link onClick={() => setShowError(!showError)} data-testid=\"show-button\">\n            {showError ? (\n              <FormattedMessage\n                id=\"exam.apiError.showLink\"\n                defaultMessage=\"Hide\"\n              />\n            ) : (\n              <FormattedMessage\n                id=\"exam.apiError.hideLink\"\n                defaultMessage=\"Show\"\n              />\n            )}\n          </Alert.Link>\n        </span>\n      </p>\n      {showError && <p data-testid=\"error-details\">{apiErrorMsg}</p>}\n    </Alert>\n  );\n}\n"],"file":"ExamAPIError.js"}